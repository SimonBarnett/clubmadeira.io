{% extends "base.inc" %}
{% block content %}
    <div class="main-container">
        <div class="menu-container">
            <div class="menu">
                <button data-section="info">
                    <span class="button-content"><i class="fas fa-home"></i> Dashboard</span>
                </button>
                <button data-submenu="my_website_submenu" data-section="my_website_intro_section">
                    <span class="button-content"><i class="fas fa-globe"></i> My Web Site</span>
                    <i class="fas fa-caret-right caret"></i>
                </button>
                <div id="my_website_submenu" class="submenu">
                    <button data-section="wix">
                        <span class="button-content"><span class="icon-wix menu-size"></span> Wix</span>
                    </button>
                    <button data-section="wordpress">
                        <span class="button-content"><span class="icon-wordpress menu-size"></span> WordPress</span>
                    </button>
                    <button data-section="squarespace">
                        <span class="button-content"><span class="icon-squarespace menu-size"></span> Squarespace</span>
                    </button>
                    <button data-section="weebly">
                        <span class="button-content"><span class="icon-weebly menu-size"></span> Weebly</span>
                    </button>
                    <button data-section="joomla">
                        <span class="button-content"><span class="icon-joomla menu-size"></span> Joomla</span>
                    </button>
                    <button data-section="no_website">
                        <span class="button-content"><i class="fas fa-question-circle menu-size"></i> I Don’t Have a Website Yet</span>
                    </button>
                </div>
                <button data-section="categories">
                    <span class="button-content"><i class="fas fa-list"></i> My Categories</span>
                </button>
                <button data-submenu="referrals_submenu" data-section="referrals_intro_section">
                    <span class="button-content">
                        <span class="icon-community menu-size"></span> My Referrals
                    </span>
                    <i class="fas fa-caret-right caret"></i>
                </button>
                <div id="referrals_submenu" class="submenu">
                    <button data-section="visits">
                        <span class="button-content"><i class="fas fa-eye"></i> Visits</span>
                    </button>
                    <button data-section="orders">
                        <span class="button-content"><i class="fas fa-shopping-cart"></i> Orders</span>
                    </button>
                </div>
                {% include 'account_menu.inc' with context %}
            </div>
        </div>
        <div class="content-wrapper">
            {% include 'welcome.inc' with context %}
            <div id="categories" class="section" style="display: none;">
                <h2>My Categories</h2>
                <p>This section lets you choose which product categories will appear on your website's "Community Discounts" page.</p>
                <div class="treeview" id="categoryTree"></div>
            </div>
            <div id="referrals_intro_section" class="section" style="display: none;">
                <h2>My Referrals</h2>
                <p>This section allows you to track your referral activity.</p>
                <p>Select from the submenu options:</p>
                <ul>
                    <li><strong>Visits:</strong> View pages visited through your referral links.</li>
                    <li><strong>Orders:</strong> See orders placed via your referrals.</li>
                </ul>
            </div>
            <div id="visits" class="section" style="display: none;">
                <h2>Visits</h2>
                <div class="toggle-section" data-toggle="visits_this_month"><i class="fas fa-calendar-day"></i> This Month</div>
                <div id="visits_this_month" class="toggle-content open">
                    <table id="visitsTableThisMonth">
                        <thead><tr><th>Page</th><th>Timestamp</th></tr></thead>
                        <tbody id="visitsListThisMonth"></tbody>
                    </table>
                </div>
                <div class="toggle-section" data-toggle="visits_last_month"><i class="fas fa-calendar-alt"></i> Last Month</div>
                <div id="visits_last_month" class="toggle-content">
                    <table id="visitsTableLastMonth">
                        <thead><tr><th>Page</th><th>Timestamp</th></tr></thead>
                        <tbody id="visitsListLastMonth"></tbody>
                    </table>
                </div>
                <div class="toggle-section" data-toggle="visits_earlier"><i class="fas fa-history"></i> Earlier</div>
                <div id="visits_earlier" class="toggle-content">
                    <table id="visitsTableEarlier">
                        <thead><tr><th>Page</th><th>Timestamp</th></tr></thead>
                        <tbody id="visitsListEarlier"></tbody>
                    </table>
                </div>
            </div>
            <div id="orders" class="section" style="display: none;">
                <h2>Orders</h2>
                <div class="toggle-section" data-toggle="orders_this_month"><i class="fas fa-calendar-day"></i> This Month</div>
                <div id="orders_this_month" class="toggle-content open">
                    <table id="ordersTableThisMonth">
                        <thead><tr><th>Order ID</th><th>Buyer</th><th>Total</th><th>Timestamp</th></tr></thead>
                        <tbody id="ordersListThisMonth"></tbody>
                    </table>
                </div>
                <div class="toggle-section" data-toggle="orders_last_month"><i class="fas fa-calendar-alt"></i> Last Month</div>
                <div id="orders_last_month" class="toggle-content">
                    <table id="ordersTableLastMonth">
                        <thead><tr><th>Order ID</th><th>Buyer</th><th>Total</th><th>Timestamp</th></tr></thead>
                        <tbody id="ordersListLastMonth"></tbody>
                    </table>
                </div>
                <div class="toggle-section" data-toggle="orders_earlier"><i class="fas fa-history"></i> Earlier</div>
                <div id="orders_earlier" class="toggle-content">
                    <table id="ordersTableEarlier">
                        <thead><tr><th>Order ID</th><th>Buyer</th><th>Total</th><th>Timestamp</th></tr></thead>
                        <tbody id="ordersListEarlier"></tbody>
                    </table>
                </div>
            </div>
            <div id="my_website_intro_section" class="section" style="display: none;">
                <h2>My Web Site</h2>
                <p>Welcome to the "My Web Site" section! Here, you can learn how to integrate discounts into your community website.</p>
                <ul>
                    <li><strong>Wix:</strong> Easy drag-and-drop builder.</li>
                    <li><strong>WordPress:</strong> Flexible CMS.</li>
                    <li><strong>Squarespace:</strong> Stylish solution.</li>
                    <li><strong>Weebly:</strong> Simple builder.</li>
                    <li><strong>Joomla:</strong> Robust CMS.</li>
                    <li><strong>I Don’t Have a Website Yet:</strong> Request a site setup.</li>
                </ul>
            </div>
            <div id="wix" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span class="icon-wix section-icon"></span>
                    <h2>Wix Integration</h2>
                </div>
                <p>Add discounts to your Wix site:</p>
                <ol>
                    <li>Log in to Wix and open the Editor.</li>
                    <li>Click "+" > "Embed" > "Embed a Widget".</li>
                    <li>Paste: <code id="wixCode"><iframe src="https://clubmadeira.io/discounts?referrer=[YourUserID]" width="100%" height="600"></iframe></code></li>
                    <li>Publish.</li>
                </ol>
            </div>
            <div id="wordpress" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span class="icon-wordpress section-icon"></span>
                    <h2>WordPress Integration</h2>
                </div>
                <p>Add discounts to WordPress:</p>
                <ol>
                    <li>Log in to WordPress admin.</li>
                    <li>Go to "Pages" > "Add New".</li>
                    <li>Add "Custom HTML" block: <code id="wordpressCode"><iframe src="https://clubmadeira.io/discounts?referrer=[YourUserID]" width="100%" height="600"></iframe></code></li>
                    <li>Publish.</li>
                </ol>
            </div>
            <div id="squarespace" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span class="icon-squarespace section-icon"></span>
                    <h2>Squarespace Integration</h2>
                </div>
                <p>Integrate discounts into Squarespace:</p>
                <ol>
                    <li>Log in to Squarespace editor.</li>
                    <li>Add a new page.</li>
                    <li>Add "Code" block: <code id="squarespaceCode"><iframe src="https://clubmadeira.io/discounts?referrer=[YourUserID]" width="100%" height="600"></iframe></code></li>
                    <li>Update site.</li>
                </ol>
            </div>
            <div id="weebly" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span class="icon-weebly section-icon"></span>
                    <h2>Weebly Integration</h2>
                </div>
                <p>Add discounts to Weebly:</p>
                <ol>
                    <li>Log in to Weebly editor.</li>
                    <li>Drag "Embed Code" onto page.</li>
                    <li>Paste: <code id="weeblyCode"><iframe src="https://clubmadeira.io/discounts?referrer=[YourUserID]" width="100%" height="600"></iframe></code></li>
                    <li>Publish.</li>
                </ol>
            </div>
            <div id="joomla" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span class="icon-joomla section-icon"></span>
                    <h2>Joomla Integration</h2>
                </div>
                <p>Integrate discounts into Joomla:</p>
                <ol>
                    <li>Log in to Joomla admin.</li>
                    <li>Go to "Content" > "Articles" > "Add New".</li>
                    <li>Paste in "Code" view: <code id="joomlaCode"><iframe src="https://clubmadeira.io/discounts?referrer=[YourUserID]" width="100%" height="600"></iframe></code></li>
                    <li>Save.</li>
                </ol>
            </div>
            <div id="no_website" class="section" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <i class="fas fa-question-circle section-icon"></i>
                    <h2>I Don’t Have a Website Yet</h2>
                </div>
                <p>Request a custom Wix website for your community from our Wix Professionals. Fill out the form below to specify your needs:</p>
                {% with user_type='community' %}
                    {% include 'siterequest.inc' %}
                {% endwith %}
            </div>
        </div>
    </div>
{% endblock %}